{"ast":null,"code":"import _classCallCheck from\"C:/trying1/mission2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/trying1/mission2/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/trying1/mission2/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/trying1/mission2/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from\"axios\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InputForm=/*#__PURE__*/function(_Component){_inherits(InputForm,_Component);var _super=_createSuper(InputForm);function InputForm(props){var _this;_classCallCheck(this,InputForm);_this=_super.call(this,props);_this.state={articleId:\"\",articleTitle:\"\",articleContent:\"\",crud:props.match.params.crud};if(_this.state.crud!==\"Insert\"){_this.getData();}return _this;}_createClass(InputForm,[{key:\"createHeaderName\",value:function createHeaderName(){var crud=this.state.crud;if(crud===\"View\"){return\"조회\";}else if(crud===\"Update\"){return\"수정\";}else if(crud===\"Delete\"){return\"삭제\";}else if(crud===\"Insert\"){return\"등록\";}}},{key:\"createCrudBtn\",value:function createCrudBtn(){var _this2=this;var crud=this.state.crud;if(crud===\"View\"){return null;}else{var crudName=crud===\"Update\"?\"수정\":crud===\"Insert\"?\"등록\":\"삭제\";return/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this2.crud();},children:[\"\\uAC8C\\uC2DC\\uAE00 \",crudName]});}}},{key:\"crud\",value:function crud(){var _this3=this;var _this$state=this.state,articleId=_this$state.articleId,articleTitle=_this$state.articleTitle,articleContent=_this$state.articleContent,crud=_this$state.crud;var crudType=\"\";if(crud===\"Update\"){crudType=\"/updateProcess.do\";}else if(crud===\"Delete\"){crudType=\"/deleteProcess.do\";}else if(crud===\"Insert\"){crudType=\"/insertProcess.do\";}else if(crud===\"View\"){return null;}var form=new FormData();form.append(\"articleContent\",articleContent);form.append(\"articleTitle\",articleTitle);if(crud!==\"Insert\"){form.append(\"articleId\",articleId);}axios.post(crudType,form).then(function(res){alert(\"요청이 처리되었습니다\");_this3.props.history.push(\"/\");}).catch(function(err){return alert(\"error: \"+err.response.data.msg);});}},{key:\"getData\",value:function getData(){var _this4=this;axios.get(\"/view.do\").then(function(res){var data=res.data;_this4.setState({articleId:data.articleId,articleTitle:data.articleTitle,articleContent:data.articleContent});});}},{key:\"createArticleIdTag\",value:function createArticleIdTag(){var articleId=this.state.articleId;var crud=this.state.crud;if(crud!==\"Insert\"){return/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:articleId,readOnly:true});}else{return null;}}},{key:\"render\",value:function render(){var _this5=this;var articleTitle=this.state.articleTitle;var articleContent=this.state.articleContent;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\uAC8C\\uC2DC\\uAE00 \",this.createHeaderName()]}),this.createArticleIdTag(),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:articleTitle,onChange:function onChange(event){return _this5.setState({articleTitle:event.target.value});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"10\",cols:\"20\",value:articleContent,onChange:function onChange(event){return _this5.setState({articleContent:event.target.value});}}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),this.createCrudBtn(),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:\"\\uCDE8\\uC18C\"})})]});}}]);return InputForm;}(Component);export default InputForm;","map":{"version":3,"names":["axios","React","Component","Link","InputForm","props","state","articleId","articleTitle","articleContent","crud","match","params","getData","crudName","crudType","form","FormData","append","post","then","res","alert","history","push","catch","err","response","data","msg","get","setState","createHeaderName","createArticleIdTag","event","target","value","createCrudBtn"],"sources":["C:/trying1/mission2/src/views/InputForm.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass InputForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      articleId: \"\",\r\n      articleTitle: \"\",\r\n      articleContent: \"\",\r\n      crud: props.match.params.crud,\r\n    };\r\n    if (this.state.crud !== \"Insert\") {\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  createHeaderName() {\r\n    const crud = this.state.crud;\r\n    if (crud === \"View\") {\r\n      return \"조회\";\r\n    } else if (crud === \"Update\") {\r\n      return \"수정\";\r\n    } else if (crud === \"Delete\") {\r\n      return \"삭제\";\r\n    } else if (crud === \"Insert\") {\r\n      return \"등록\";\r\n    }\r\n  }\r\n\r\n  createCrudBtn() {\r\n    const crud = this.state.crud;\r\n    if (crud === \"View\") {\r\n      return null;\r\n    } else {\r\n      const crudName =\r\n      crud === \"Update\" ? \"수정\" : crud === \"Insert\" ? \"등록\" : \"삭제\";\r\n      return (\r\n        <button onClick={() => this.crud()}>게시글 {crudName}</button>\r\n      );\r\n    }\r\n  }\r\n\r\n  crud() {\r\n    const { articleId, articleTitle, articleContent, crud } = this.state;\r\n\r\n    let crudType = \"\";\r\n\r\n    if (crud === \"Update\") {\r\n      crudType = \"/updateProcess.do\";\r\n    } else if (crud === \"Delete\") {\r\n      crudType = \"/deleteProcess.do\";\r\n    } else if (crud === \"Insert\") {\r\n      crudType = \"/insertProcess.do\";\r\n    } else if (crud === \"View\") {\r\n      return null;\r\n    }\r\n\r\n    let form = new FormData();\r\n    form.append(\"articleContent\", articleContent);\r\n    form.append(\"articleTitle\", articleTitle);\r\n    if (crud !== \"Insert\") {\r\n      form.append(\"articleId\", articleId);\r\n    }\r\n\r\n    axios\r\n      .post(crudType, form)\r\n      .then((res) => {\r\n        alert(\"요청이 처리되었습니다\");\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((err) => alert(\"error: \" + err.response.data.msg));\r\n  }\r\n\r\n  getData() {\r\n    axios.get(\"/view.do\").then((res) => {\r\n      const data = res.data;\r\n      this.setState({\r\n        articleId: data.articleId,\r\n        articleTitle: data.articleTitle,\r\n        articleContent: data.articleContent,\r\n      });\r\n    });\r\n  }\r\n\r\n  createArticleIdTag() {\r\n    const articleId = this.state.articleId;\r\n    const crud = this.state.crud;\r\n    if (crud !== \"Insert\") {\r\n      return <input type=\"hidden\" value={articleId} readOnly />;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const articleTitle = this.state.articleTitle;\r\n    const articleContent = this.state.articleContent;\r\n\r\n    return (\r\n      <>\r\n        <h1>게시글 {this.createHeaderName()}</h1>\r\n        {this.createArticleIdTag()}\r\n        <h3>제목</h3>\r\n        <input\r\n          type=\"text\"\r\n          value={articleTitle}\r\n          onChange={(event) =>\r\n            this.setState({ articleTitle: event.target.value })\r\n          }\r\n        />\r\n        <br />\r\n        <h3>내용</h3>\r\n        <textarea\r\n          rows=\"10\"\r\n          cols=\"20\"\r\n          value={articleContent}\r\n          onChange={(event) =>\r\n            this.setState({ articleContent: event.target.value })\r\n          }\r\n        ></textarea>\r\n        <br /> <br />\r\n        {this.createCrudBtn()}\r\n        <Link to=\"/\">\r\n          <button type=\"button\">취소</button>\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}