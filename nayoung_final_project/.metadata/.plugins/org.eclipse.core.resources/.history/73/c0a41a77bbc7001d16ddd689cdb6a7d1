{"ast":null,"code":"var _jsxFileName = \"C:\\\\trying1\\\\mission2\\\\src\\\\views\\\\InputForm.js\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass InputForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      articleId: \"\",\n      articleTitle: \"\",\n      articleContent: \"\",\n      crud: props.match.params.crud\n    };\n    if (this.state.crud !== \"Insert\") {\n      this.getData();\n    }\n  }\n  createHeaderName() {\n    const crud = this.state.crud;\n    if (crud === \"View\") {\n      return \"조회\";\n    } else if (crud === \"Update\") {\n      return \"수정\";\n    } else if (crud === \"Delete\") {\n      return \"삭제\";\n    } else if (crud === \"Insert\") {\n      return \"등록\";\n    }\n  }\n  createCrudBtn() {\n    const crud = this.state.crud;\n    if (crud === \"View\") {\n      return null;\n    } else {\n      const crudName = crud === \"Update\" ? \"수정\" : crud === \"Insert\" ? \"등록\" : \"삭제\";\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.crud(),\n        children: [\"\\uAC8C\\uC2DC\\uAE00 \", crudName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  crud() {\n    const {\n      articleId,\n      articleTitle,\n      articleContent,\n      crud\n    } = this.state;\n    let crudType = \"\";\n    if (crud === \"Update\") {\n      crudType = \"/updateProcess.do\";\n    } else if (crud === \"Delete\") {\n      crudType = \"/deleteProcess.do\";\n    } else if (crud === \"Insert\") {\n      crudType = \"/insertProcess.do\";\n    } else if (crud === \"View\") {\n      return null;\n    }\n    let form = new FormData();\n    form.append(\"articleContent\", articleContent);\n    form.append(\"articleTitle\", articleTitle);\n    if (crud !== \"Insert\") {\n      form.append(\"articleId\", articleId);\n    }\n    axios.post(crudType, form).then(res => {\n      alert(\"요청이 처리되었습니다\");\n      this.props.history.push(\"/\");\n    }).catch(err => alert(\"error: \" + err.response.data.msg));\n  }\n  getData() {\n    axios.get(\"/view.do\").then(res => {\n      const data = res.data;\n      this.setState({\n        articleId: data.articleId,\n        articleTitle: data.articleTitle,\n        articleContent: data.articleContent\n      });\n    });\n  }\n  createArticleIdTag() {\n    const articleId = this.state.articleId;\n    const crud = this.state.crud;\n    if (crud !== \"Insert\") {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        value: articleId,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 14\n      }, this);\n    } else {\n      return null;\n    }\n  }\n  render() {\n    const articleTitle = this.state.articleTitle;\n    const articleContent = this.state.articleContent;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"\\uAC8C\\uC2DC\\uAE00 \", this.createHeaderName()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), this.createArticleIdTag(), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uC81C\\uBAA9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: articleTitle,\n        onChange: event => this.setState({\n          articleTitle: event.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uB0B4\\uC6A9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"10\",\n        cols: \"20\",\n        value: articleContent,\n        onChange: event => this.setState({\n          articleContent: event.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 16\n      }, this), this.createCrudBtn(), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default InputForm;","map":{"version":3,"names":["axios","React","Component","Link","InputForm","constructor","props","state","articleId","articleTitle","articleContent","crud","match","params","getData","createHeaderName","createCrudBtn","crudName","crudType","form","FormData","append","post","then","res","alert","history","push","catch","err","response","data","msg","get","setState","createArticleIdTag","render","event","target","value"],"sources":["C:/trying1/mission2/src/views/InputForm.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass InputForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      articleId: \"\",\r\n      articleTitle: \"\",\r\n      articleContent: \"\",\r\n      crud: props.match.params.crud,\r\n    };\r\n    if (this.state.crud !== \"Insert\") {\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  createHeaderName() {\r\n    const crud = this.state.crud;\r\n    if (crud === \"View\") {\r\n      return \"조회\";\r\n    } else if (crud === \"Update\") {\r\n      return \"수정\";\r\n    } else if (crud === \"Delete\") {\r\n      return \"삭제\";\r\n    } else if (crud === \"Insert\") {\r\n      return \"등록\";\r\n    }\r\n  }\r\n\r\n  createCrudBtn() {\r\n    const crud = this.state.crud;\r\n    if (crud === \"View\") {\r\n      return null;\r\n    } else {\r\n      const crudName =\r\n      crud === \"Update\" ? \"수정\" : crud === \"Insert\" ? \"등록\" : \"삭제\";\r\n      return (\r\n        <button onClick={() => this.crud()}>게시글 {crudName}</button>\r\n      );\r\n    }\r\n  }\r\n\r\n  crud() {\r\n    const { articleId, articleTitle, articleContent, crud } = this.state;\r\n\r\n    let crudType = \"\";\r\n\r\n    if (crud === \"Update\") {\r\n      crudType = \"/updateProcess.do\";\r\n    } else if (crud === \"Delete\") {\r\n      crudType = \"/deleteProcess.do\";\r\n    } else if (crud === \"Insert\") {\r\n      crudType = \"/insertProcess.do\";\r\n    } else if (crud === \"View\") {\r\n      return null;\r\n    }\r\n\r\n    let form = new FormData();\r\n    form.append(\"articleContent\", articleContent);\r\n    form.append(\"articleTitle\", articleTitle);\r\n    if (crud !== \"Insert\") {\r\n      form.append(\"articleId\", articleId);\r\n    }\r\n\r\n    axios\r\n      .post(crudType, form)\r\n      .then((res) => {\r\n        alert(\"요청이 처리되었습니다\");\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((err) => alert(\"error: \" + err.response.data.msg));\r\n  }\r\n\r\n  getData() {\r\n    axios.get(\"/view.do\").then((res) => {\r\n      const data = res.data;\r\n      this.setState({\r\n        articleId: data.articleId,\r\n        articleTitle: data.articleTitle,\r\n        articleContent: data.articleContent,\r\n      });\r\n    });\r\n  }\r\n\r\n  createArticleIdTag() {\r\n    const articleId = this.state.articleId;\r\n    const crud = this.state.crud;\r\n    if (crud !== \"Insert\") {\r\n      return <input type=\"hidden\" value={articleId} readOnly />;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const articleTitle = this.state.articleTitle;\r\n    const articleContent = this.state.articleContent;\r\n\r\n    return (\r\n      <>\r\n        <h1>게시글 {this.createHeaderName()}</h1>\r\n        {this.createArticleIdTag()}\r\n        <h3>제목</h3>\r\n        <input\r\n          type=\"text\"\r\n          value={articleTitle}\r\n          onChange={(event) =>\r\n            this.setState({ articleTitle: event.target.value })\r\n          }\r\n        />\r\n        <br />\r\n        <h3>내용</h3>\r\n        <textarea\r\n          rows=\"10\"\r\n          cols=\"20\"\r\n          value={articleContent}\r\n          onChange={(event) =>\r\n            this.setState({ articleContent: event.target.value })\r\n          }\r\n        ></textarea>\r\n        <br /> <br />\r\n        {this.createCrudBtn()}\r\n        <Link to=\"/\">\r\n          <button type=\"button\">취소</button>\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}